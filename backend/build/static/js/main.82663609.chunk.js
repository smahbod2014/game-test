(this["webpackJsonproute-test"]=this["webpackJsonproute-test"]||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(57),r=n.n(a),i=(n(66),n(67),n(18)),l=n(10),o=n(12),d=n(58),j=n.n(d),u=n(5),h=j()("http://localhost:8555");function b(e){return e.RedIndexes.length-e.RedIndexes.filter((function(t){return e.RevealedIndexes.includes(t)})).length}function x(e){return e.BlueIndexes.length-e.BlueIndexes.filter((function(t){return e.RevealedIndexes.includes(t)})).length}function m(e,t){return e.RevealedIndexes.includes(t)}var O=function(){var e=Object(l.f)().gameID,t=Object(c.useState)(null),n=Object(i.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)("true"===localStorage.getItem("codenames_is_spymaster")),d=Object(i.a)(r,2),j=d[0],O=d[1];return e=void 0===e||""===e?"default":e,Object(c.useEffect)((function(){h.on("game_state",(function(e){var t=JSON.parse(e);a(t.GameState),t.Reset&&(localStorage.removeItem("codenames_is_spymaster"),O(!1))})),h.emit("join",e)}),[e]),s?Object(u.jsxs)(o.a,{bg:"#282c34",minH:"100vh",children:[Object(u.jsx)(o.a,{"pt-50":!0,text4XL:!0,white:!0,textCenter:!0,w:"100%",children:"CODENAMES"}),Object(u.jsxs)(o.a,{w:"1000px",ml:"auto",mr:"auto",children:[Object(u.jsxs)(o.a,{"mt-30":!0,flex:!0,justifyContent:"space-between",children:[Object(u.jsxs)(o.a,{white:!0,text3XL:!0,children:[Object(u.jsx)(o.a,{inline:!0,color:s.StartingTeam,children:"red"===s.StartingTeam?b(s):x(s)}),Object(u.jsx)(o.a,{inline:!0,children:"\xa0-\xa0"}),Object(u.jsx)(o.a,{inline:!0,color:"red"===s.StartingTeam?"blue":"red",children:"red"===s.StartingTeam?x(s):b(s)})]}),Object(u.jsxs)(o.a,{text2XL:!0,color:s.WhoseTurn,children:["red"===s.WhoseTurn?"Red":"Blue",s.GameOver?" wins!":"'s turn"]}),Object(u.jsx)(o.a,{children:Object(u.jsx)(o.a,{as:"button",bgGray400:!0,"bgGray400--D10--hover":!0,white:!0,rounded:!0,py3:!0,px5:!0,outlineNone:!0,cursorPointer:!0,disabled:s.GameOver,onClick:function(){h.emit("pass",e)},children:"Pass"})})]}),Object(u.jsx)(o.a,{flex:!0,flexWrap:"wrap",h:"670px","mt-20":!0,justifyContent:"space-between",children:s.Words.map((function(t,n){var c="black",a="#d3d3d3";return j&&(s.RedIndexes.includes(n)?c="red":s.BlueIndexes.includes(n)?c="blue":s.AssassinIndex==n&&(a="gray")),s.RevealedIndexes.includes(n)?(c="white",s.RedIndexes.includes(n)?a="red":s.BlueIndexes.includes(n)?a="blue":s.NeutralIndexes.includes(n)?(a="#e6d2ac",c="black"):a="#1c1c1c"):s.GameOver&&!j&&(s.RedIndexes.includes(n)?a="#ff9696":s.BlueIndexes.includes(n)?a="#9696ff":n==s.AssassinIndex&&(a="#1c1c1c")),Object(u.jsx)(o.a,{w:"188px",h:"122px",bg:a,color:c,flex:!0,justifyContent:"center",alignItems:"center",text:22,borderStyle:"solid",border:j&&s.AssassinIndex==n&&7,borderBlack:s.AssassinIndex==n,cursorPointer:!j&&!s.GameOver&&!m(s,n),onClick:function(){j||s.GameOver||h.emit("selection",JSON.stringify({Index:n,GameID:e}))},children:t},n)}))}),Object(u.jsxs)(o.a,{flex:!0,justifyContent:"flex-end",mt:"10px",color:"white",alignItems:"center",children:[Object(u.jsxs)("div",{className:"form-check form-switch",children:[Object(u.jsx)("input",{className:"form-check-input hoverable",type:"checkbox",id:"flexSwitchCheckChecked",checked:j,onChange:function(e){O(e.target.checked),localStorage.setItem("codenames_is_spymaster",String(e.target.checked))}}),Object(u.jsx)("label",{className:"form-check-label hoverable",htmlFor:"flexSwitchCheckChecked",children:"Spymaster"})]}),Object(u.jsx)(o.a,{as:"button",ml10:!0,bgGray400:!0,"bgGray400--D10--hover":!0,white:!0,rounded:!0,py3:!0,px5:!0,outlineNone:!0,cursorPointer:!0,onClick:function(){h.emit("new_game",e)},children:"New Game"})]})]})]}):Object(u.jsx)(o.a,{bg:"#282c34",minH:"100vh",children:Object(u.jsx)(o.a,{"pt-50":!0,text4XL:!0,white:!0,textCenter:!0,w:"100%",children:"Loading..."})})},f=n(32),g=n(105),p=n(106),I=n(59).a.initializeApp({apiKey:"AIzaSyAFNePLTOKWs2NMNljXmQIUxUuxQan2ruQ",authDomain:"game-test-c4bed.firebaseapp.com",projectId:"game-test-c4bed",storageBucket:"game-test-c4bed.appspot.com",messagingSenderId:"99636756606",appId:"1:99636756606:web:a262580aba6761cf74582f",measurementId:"G-LYCD2N4TB2"});function v(){I.auth().signInAnonymously()}function S(){I.auth().signOut()}var w=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!0),r=Object(i.a)(a,2),l=r[0],o=r[1];return I.auth().onAuthStateChanged((function(e){s(null!=e),o(!1)})),l?Object(u.jsx)(g.a,{color:"info",children:""}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Login Page"}),n?Object(u.jsx)(p.a,{className:"mt-5",color:"info",onClick:S,children:"Log out"}):Object(u.jsx)(p.a,{className:"mt-5",color:"info",onClick:v,children:"Log in as guest"})]})},y=n(60),k=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=(t[0],t[1],Object(c.useState)(!1)),s=Object(i.a)(n,2),a=s[0];s[1];return a?Object(u.jsx)(g.a,{color:"info",children:""}):Object(u.jsxs)(o.a,{className:"App-header",children:[Object(u.jsx)("h1",{children:"Welcome"}),Object(u.jsx)(f.b,{to:"/game/".concat(Object(y.a)()),children:Object(u.jsx)(p.a,{color:"info",children:"New Game"})})]})};var C=function(){return Object(u.jsx)(f.a,{children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/",exact:!0,children:Object(u.jsx)("div",{children:Object(u.jsx)(k,{})})}),Object(u.jsx)(l.a,{path:"/login",children:Object(u.jsx)("div",{className:"App-header",children:Object(u.jsx)(w,{})})}),Object(u.jsx)(l.a,{path:"/game/:gameID",children:Object(u.jsx)("div",{children:Object(u.jsx)(O,{})})})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};n(103);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),N()},66:function(e,t,n){},67:function(e,t,n){},91:function(e,t){}},[[104,1,2]]]);
//# sourceMappingURL=main.82663609.chunk.js.map